function init(){loadFeed(0)}function loadFeed(a,b){var c=allFeeds[a].url,d=allFeeds[a].name;$.ajax({type:"POST",url:"https://rsstojson.udacity.com/parseFeed",data:JSON.stringify({url:c}),contentType:"application/json",success:function(a,c){var e=$(".feed"),f=$(".header-title"),g=a.feed.entries,h=(g.length,Handlebars.compile($(".tpl-entry").html()));f.html(d),e.empty(),g.forEach(function(a){e.append(h(a))}),b&&b()},error:function(a,c,d){b&&b()},dataType:"json"})}var allFeeds=[{name:"Udacity Blog",url:"http://blog.udacity.com/feed"},{name:"CSS Tricks",url:"http://css-tricks.com/feed"},{name:"HTML5 Rocks",url:"http://feeds.feedburner.com/html5rocks"},{name:"Linear Digressions",url:"http://feeds.feedburner.com/udacity-linear-digressions"}];google.load("feeds","1"),google.setOnLoadCallback(init),$(function(){var a=($(".feed"),$(".feed-list")),b=Handlebars.compile($(".tpl-feed-list-item").html()),c=0,d=$(".menu-icon-link");allFeeds.forEach(function(d){d.id=c,a.append(b(d)),c++}),a.on("click","a",function(){var a=$(this);return $("body").addClass("menu-hidden"),loadFeed(a.data("id")),!1}),d.on("click",function(){$("body").toggleClass("menu-hidden")})}()),$(function(){"use strict";describe("RSS Feeds",function(){it("are defined",function(){expect(allFeeds).toBeDefined(),expect(allFeeds.length).not.toBe(0)}),it("URL defined",function(){for(var a=0;a<allFeeds.length;a++)expect(allFeeds[a].url).toBeDefined(),expect(allFeeds[a].url.length).not.toBe(0)}),it("names defined",function(){for(var a=0;a<allFeeds.length;a++)expect(allFeeds[a].name).toBeDefined(),expect(allFeeds[a].name.length).not.toBe(0)})}),describe("The menu",function(){var a=$("body");it("menu hidden by default",function(){expect(a.hasClass("menu-hidden")).toBeTruthy()}),it("show menu when clicked",function(){$(".menu-icon-link").trigger("click"),expect(a.hasClass("menu-hidden")).toBeFalsy()}),it("hide menu when clicked",function(){$(".menu-icon-link").trigger("click"),expect(a.hasClass("menu-hidden")).toBeTruthy()})}),describe("Initial Entries",function(){beforeEach(function(a){loadFeed(0,a)}),it("loads atleast one entry",function(){var a=$(".feed .entry").length;expect(a).toBeGreaterThan(0)})}),describe("New Feed Selection",function(){var a,b;beforeEach(function(b){loadFeed(0,function(){a=$(".feed").html(),b()})}),beforeEach(function(a){loadFeed(1,function(){b=$(".feed").html(),a()})}),afterAll(function(a){loadFeed(0,a)}),it("new feed changes content",function(){console.log("typeof feed0 ==="+typeof a),console.log("typeof feed1 ==="+typeof b),console.log(a),console.log(b),expect(a).not.toEqual(b)})})}());